[SysODataActionAttribute('createApprovalTrackingHistory', false)]
public static void createApprovalTrackingHistory(RefRecId purchaseRecId, WorkflowComment _comment, Email user, WorkflowTrackingName name)
{
    SysWorkflowTable        workflowTable;
    WorkflowWorkItemTable   workItemTable;
    PurchTable              purchTable;
    UserInfo                userInfo;

    select firstonly workflowTable where workflowTable.ContextRecId == purchaseRecId
        join purchTable where purchTable.RecId == purchaseRecId
        join workItemTable where workItemTable.CorrelationId == workflowTable.WorkflowCorrelationId;

    select firstonly userInfo where userInfo.networkAlias == user;

    SysWorkflowCorrelation correaltion = SysWorkflowCorrelation::construct();

    correaltion = workItemTable.getSysWorkflowCorrelation();

    SysWorkflowTracking workflowTracking = SysWorkflowTracking::newSysWorkflowTracking(correaltion, userInfo.name, WorkflowTrackingContext::WorkItem, WorkflowTrackingType::Approval);
    workflowTracking.parmTrackingComment(_comment);
    workflowTracking.parmTrackingMessage(strFmt('Approved by user: %1, Due date %2', userInfo.name, today()));
    workflowTracking.parmName(name);

    WorkflowTrackingTable::saveTracking(workflowTracking);

}

[SysODataActionAttribute('createRejectionTrackingHistory', false)]
public static void createRejectionTrackingHistory(RefRecId purchaseRecId, WorkflowComment _comment, Email user, WorkflowTrackingName name)
{
    SysWorkflowTable        workflowTable;
    WorkflowWorkItemTable   workItemTable;
    PurchTable              purchTable;
    UserInfo                userInfo;

    select firstonly workflowTable where workflowTable.ContextRecId == purchaseRecId
        join purchTable where purchTable.RecId == purchaseRecId
        join workItemTable where workItemTable.CorrelationId == workflowTable.WorkflowCorrelationId;

    select firstonly userInfo where userInfo.networkAlias == user;

    SysWorkflowCorrelation correaltion = SysWorkflowCorrelation::construct();

    correaltion = workItemTable.getSysWorkflowCorrelation();

    SysWorkflowTracking workflowTracking = SysWorkflowTracking::newSysWorkflowTracking(correaltion, userInfo.name, WorkflowTrackingContext::WorkItem, WorkflowTrackingType::Rejection);
    workflowTracking.parmTrackingComment(_comment);
    workflowTracking.parmTrackingMessage(strFmt('Rejected by user: %1, Due date %2', userInfo.name, today()));
    workflowTracking.parmName(name);

    WorkflowTrackingTable::saveTracking(workflowTracking);

}